#!/bin/sh
if (($#<3)); then
 echo 'program psplot - show data(+updates) on screen. '
 echo 'use as: psplot x-colnr y-colnr filename'
 break;
fi
if (($#<6)); then
cat << EOF > .show.gnu
set terminal postscript 
set output "psplot.ps" 
set key left top 
set border 15 lw 1.5
set style line 1 lt 1 lw 2 pt 1 ps 2.5 
set style line  2 lt 2 lw 2 pt 2 ps 2.5 
set style line  3 lt 3 lw 2 pt 3 ps 2.5 
set size ratio 1 
set xlabel "column $1"
set ylabel "column $2" 
plot "$3"  using $1:$2 title "$3" with linesp ls 1
EOF
gnuplot .show.gnu;
else
cat << EOF > .show.gnu
set terminal postscript 
set output "psplot.ps" 
set key left top 
set border 15 lw 1.5
set style line 1 lt 1 lw 2 pt 1 ps 2.5 
set style line  2 lt 2 lw 2 pt 2 ps 2.5 
set style line  3 lt 3 lw 2 pt 3 ps 2.5 
set size ratio 1 
set xlabel "$3 column $1"
set ylabel "$3 column $2" 
plot "$3"  using $1:$2 title "$3" with linesp ls 1 ,\
     "$6"  using $4:$5 title "$6 col $4 vs $5" with linesp ls 2
EOF
gnuplot .show.gnu;
fi
